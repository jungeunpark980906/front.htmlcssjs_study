<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>계산기</title>
    <style>
        button{
            width: 40px;
            height: 40px;
            background-color: white;
            border-radius: 20%;
            border-color: blue;
            /* border-image: linear-gradient(red,blue) 1; */
            margin-bottom: 10px;
            font-weight: 700;
        }
    </style>
</head>
<body>
    <div class="cont">
        <div class="area top">
            <button type="button" value="7">7</button>
            <button type="button" value="8">8</button>
            <button type="button" value="9">9</button>
            <button type="button" value="+">+</button>
            <button type="button" value="C">C</button> <br>
            <button type="button" value="4">4</button>
            <button type="button" value="5">5</button>
            <button type="button" value="6">6</button>
            <button type="button" value="-">-</button> <br>
            <button type="button" value="1">1</button>
            <button type="button" value="2">2</button>
            <button type="button" value="3">3</button>
            <button type="button" value="*">*</button> <br>
            <button type="button" value=".">.</button>
            <button type="button" value="0">0</button>
            <button type="button" value="=">=</button>
            <button type="button" value="/">/</button>
        </div>
        <div>
            <h1 class="area bottom" id="print"></h1>
        </div>
    </div>

    <script>
        const printFomula = document.getElementById('print');
        let str =" ";
        let result=0;
        
        document.querySelector('.cont').addEventListener('click',function(e){ 
            //class범위 전체에 적용 + e에 클릭한 것을 담음
            let btnValue = e.target.value; //e의 값을 btnValue에 담기
            if(isNaN(btnValue)==false){ // 숫자의 경우
                str += btnValue;
                
            } else { // 기호의 경우
                
                if(btnValue != undefined){ // 기호를 클릭한 경우
                    
                    if(btnValue == '='){
                        
                        let firstNum = parseFloat(str.substring(0,str.indexOf(" ")+1));
                        let sign = str.substr(str.indexOf(" ")+1,1);
                        let lastNum = parseFloat(str.substring(str.indexOf(" ")+1));
                                    
                        console.log(firstNum);
                        console.log(sign);
                        console.log(lastNum);
                        calc(firstNum,sign,lastNum);
                        str += result;
                        // str = "";
                    }else if(btnValue =='C'){
                        str = ""; // 다지움
                        printFomula.innerText = ""; //공백출력
                    }else if(btnValue =='.'){
                        str += btnValue;
                    } else{
                        str += ` ${btnValue} `;
                    }

                } else { //기호가 아닌 빈칸을 클릭한 경우

                }
            }

            printFomula.innerHTML = str;
        })

        //계산 함수
        function calc(num1, sign, num2){
            switch(sign){
                case '+': result=num1+num2; break;
                case '-': result=num1-num2; break;
                case '*': result=num1*num2; break;
                case '/': result=num1/num2; break;
            };
            return result.toFixed(2);
        };

        //
    </script>
</body>
</html>